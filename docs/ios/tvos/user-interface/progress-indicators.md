---
title: Xamarin での tvOS 進行状況インジケーターの使用
description: このドキュメントでは、Xamarin でビルドされた tvOS アプリで進行状況インジケーターを操作する方法について説明します。 このトピックでは、進行状況バーとアクティビティインジケーターの両方について説明します。
ms.prod: xamarin
ms.assetid: 582B6D0C-1F16-4299-A9A6-5651E76009FE
ms.technology: xamarin-ios
author: davidortinau
ms.author: daortin
ms.date: 04/25/2018
ms.openlocfilehash: 4f79fe550966c36a2be15431757fb7443e090ec9
ms.sourcegitcommit: 00e6a61eb82ad5b0dd323d48d483a74bedd814f2
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/29/2020
ms.locfileid: "91436400"
---
# <a name="working-with-tvos-progress-indicators-in-xamarin"></a>Xamarin での tvOS 進行状況インジケーターの使用

_この記事では、tvOS アプリ内での進行状況インジケーターの設計と使用について説明します。_

TvOS アプリで、新しいコンテンツを読み込んだり、時間のかかる処理操作を実行したりする必要がある場合があります。 これらの時間中に、アプリが実行中であることをユーザーに通知し、実行されているタスクの長さを示すために、アクティビティインジケーターまたは進行状況バーのいずれかを表示する必要があります。

![進行状況インジケーターのサンプル](progress-indicators-images/intro01.png "進行状況インジケーターのサンプル")

## <a name="about-activity-indicators"></a>アクティビティインジケーターについて

アクティビティインジケーターはスピン歯車として表され、未確定の長さのタスクを表すために使用されます。 タスクが開始されると、タスクが完了するとインジケーターが表示されます。

Apple では、アクティビティインジケーターの使用に関して次のような推奨事項があります。

- **可能な限り、進行状況** バーを使用します。これは、アクティビティインジケーターによって、実行されているプロセスの所要時間についてのフィードバックがユーザーに表示されないため、長さがわかっている場合は常に進行状況バーを使用します (たとえば、ファイルにダウンロードするバイト数)。
- **インジケーターをアニメーション化したまま** にする-ユーザーは、停滞したアプリに対して、作業中のアクティビティインジケーターを関連付けます。そのため、インジケーターが表示されている間は、常にインジケーターをアニメーション化してください。
- **処理されるタスクの説明** -アクティビティインジケーターだけを表示するだけでは不十分です。ユーザーは、待機しているプロセスについて通知を受ける必要があります。 タスクを明確に定義するわかりやすいラベル (通常は1つの完全な文) を含めます。

## <a name="about-progress-bars"></a>進行状況バーについて

進行状況バーは、時間のかかるタスクの状態と長さを示すために色で塗りつぶす線として表示されます。 タスクの長さがわかっている場合、または計算できる場合は、進行状況バーを常に使用する必要があります。

Apple では、進行状況バーの操作に関して次のような推奨事項があります。

- **進行状況を正確に報告** する-進行状況バーには、タスクを完了するために必要な時間の正確な表現が常に表示されます。 アプリがビジー状態として表示されるまでの時間を詐称しないでください。
- **明確に定義された期間に使用** します。進行状況バーには、時間のかかるタスクが発生していることを示すだけでなく、タスクの完了量と残りの推定時間を示す値を指定します。

## <a name="progress-indicators-and-storyboards"></a>進行状況インジケーターとストーリーボード

TvOS アプリで進行状況インジケーターを操作する最も簡単な方法は、iOS デザイナーを使用してアプリの UI に追加することです。

# <a name="visual-studio-for-mac"></a>[Visual Studio for Mac](#tab/macos)

1. **Solution Pad**で、**メインの storyboard**ファイルをダブルクリックして開き、編集します。

2. [**ツールボックス**] から**アクティビティインジケーター**をドラッグし、ビューにドロップします。 

    ![アクティビティインジケーター](progress-indicators-images/activity01.png "アクティビティインジケーター")

3. **Properties Pad**の [**ウィジェット**] タブでは、**スタイル**、**動作**、**名前**など、アクティビティインジケーターのいくつかのプロパティを調整できます。 

    ![アクティビティインジケーターの [ウィジェット] タブ](progress-indicators-images/activity02.png "アクティビティインジケーターの [ウィジェット] タブ")
    
    **名前**は、C# コードでアクティビティインジケーターを表すプロパティの名前を決定します。

4. **ツールボックス**から**プログレスビュー**をドラッグし、ビューにドロップします。 

    ![進行状況ビュー](progress-indicators-images/activity03.png "進行状況ビュー")

5. **プロパティエクスプローラー**の [**ウィジェット**] タブでは、[**スタイル**]、[**進行状況**(パーセント完了)]、[**名前**] など、進行状況ビューのいくつかのプロパティを調整できます。 

    ![進行状況ビューの [ウィジェット] タブ](progress-indicators-images/activity04.png "進行状況ビューの [ウィジェット] タブ")
    
    **名前**は、C# コードで進行状況ビューを表すプロパティの名前を決定します。

6. 変更を保存します。

# <a name="visual-studio"></a>[Visual Studio](#tab/windows)

1. **ソリューションエクスプローラー**で、**メインの storyboard**ファイルをダブルクリックして開き、編集します。

2. [**ツールボックス**] から**アクティビティインジケーター**をドラッグし、ビューにドロップします。 

    ![アクティビティインジケーター](progress-indicators-images/activity01-vs.png
    "アクティビティインジケーター")

3. **プロパティエクスプローラー**の [**ウィジェット**] タブでは、**スタイル**、**動作**、**名前**など、アクティビティインジケーターのいくつかのプロパティを調整できます。 

    ![アクティビティインジケーターの [ウィジェット] タブ](progress-indicators-images/activity02-vs.png "アクティビティインジケーターの [ウィジェット] タブ")

    **名前**は、C# コードでアクティビティインジケーターを表すプロパティの名前を決定します。

4. **ツールボックス**から**プログレスビュー**をドラッグし、ビューにドロップします。 

   ![進行状況ビュー](progress-indicators-images/activity03-vs.png "進行状況ビュー")

5. **プロパティエクスプローラー**の [**ウィジェット**] タブでは、[**スタイル**]、[**進行状況**(パーセント完了)]、[**名前**] など、進行状況ビューのいくつかのプロパティを調整できます。 

    ![進行状況ビューの [ウィジェット] タブ](progress-indicators-images/activity04-vs.png "進行状況ビューの [ウィジェット] タブ")
    
    **名前**は、C# コードで進行状況ビューを表すプロパティの名前を決定します。

6. 変更を保存します。

-----

ストーリーボードの操作の詳細については、「 [Hello, tvOS クイックスタートガイド](~/ios/tvos/get-started/hello-tvos.md)」を参照してください。 

## <a name="working-with-activity-indicators"></a>アクティビティインジケーターの操作

既に説明したように、アプリが長時間の長さの長いプロセスを実行している場合は、アクティビティインジケーターが表示されます。

任意の時点で、プロパティをチェックすることで、アクティビティインジケーターがアニメーション化されているかどうかを確認でき `IsAnimating` ます。 `HidesWhenStopped`プロパティがの場合 `true` 、アニメーションが停止されると、アクティビティインジケーターは自動的に非表示になります。

アニメーションを開始するには、次のコードを使用します。 

```csharp
ActivityIndicator.StartAnimating();
```

次の例では、アニメーションを停止します。

```csharp
ActivityIndicator.StopAnimating();
```

> [!NOTE]
> これらのコードスニペットは、iOS デザイナーの [**ウィジェット**] タブでアクティビティインジケーターの**名前**が**activityindicator**に設定されていることを前提としています。

## <a name="working-with-progress-bars"></a>進行状況バーの操作

ここでも、アプリが既知の期間に実行時間の長いタスクを実行するときは常に、進行状況バーを使用する必要があります。 

`Progress`プロパティは、完了したタスクの量を 0 ~ 100% (0.0 から 1.0) に設定するために使用されます。 プロパティを使用して、[ `ProgressTintColor` amount 完了] バーの色を設定し、プロパティを使用して `TrackTintColor` 背景色 (未完了の金額) を設定します。

## <a name="summary"></a>まとめ

この記事では、tvOS アプリ内での進行状況インジケーターの設計と使用について説明しました。

## <a name="related-links"></a>関連リンク

- [tvOS のサンプル](/samples/browse/?products=xamarin&term=Xamarin.iOS%2btvOS)
- [tvOS](https://developer.apple.com/tvos/)
- [tvOS ヒューマンインターフェイスガイド](https://developer.apple.com/tvos/human-interface-guidelines/)
- [TvOS のアプリプログラミングガイド](https://developer.apple.com/library/prerelease/tvos/documentation/General/Conceptual/AppleTV_PG/)