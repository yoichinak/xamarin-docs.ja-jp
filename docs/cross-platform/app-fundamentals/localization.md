---
title: アプリケーションのユーザーインターフェイスのローカライズ
description: このドキュメントでは、国際化とローカリゼーションのクロスプラットフォームの概念について説明し、アプリケーションの設計にどのように影響するかを調べます。
ms.prod: xamarin
ms.assetid: CC6847B2-23FB-4EDE-9F7E-EF29DD46A5C5
author: davidortinau
ms.author: daortin
ms.date: 03/22/2017
ms.openlocfilehash: 38bee7e2c4c0b3cdf5107842e47feeeb1445d626
ms.sourcegitcommit: 4e399f6fa72993b9580d41b93050be935544ffaa
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/29/2020
ms.locfileid: "91457732"
---
# <a name="localization"></a>ローカリゼーション

このガイドでは、 *国際化* と *ローカリゼーション* の背後にある概念と、これらの概念を使用して Xamarin モバイルアプリケーションを作成する方法の手順へのリンクを紹介します。

Xamarin アプリのローカライズに関する技術的な詳細に直接進む場合は、次のプラットフォーム固有の操作方法に関する記事のいずれかから開始してください。

- RESX ファイルを使用した[**Xamarin 形式**](~/xamarin-forms/app-fundamentals/localization/index.md)のクロスプラットフォームローカライズ。
- [**Xamarin. iOS**](~/ios/app-fundamentals/localization/index.md) ネイティブプラットフォームのローカリゼーション。
- [**Xamarin. Android**](~/android/app-fundamentals/localization.md) ネイティブプラットフォームのローカリゼーション。

## <a name="i18n-and-l10n"></a>i18n と L10n

*国際化* とは、コードがさまざまな言語を表示し、さまざまなロケール (数値や日付の書式設定など) に合わせてその表示を調整できるようにするプロセスです。 これは、 *グローバリゼーション*とも呼ばれます。

*ローカリゼーション* は、各言語のリソース (文字列やイメージなど) を作成し、それらを国際化アプリにバンドルする手順です。

国際化は、"i" と "n" の間の18文字の短縮形に短縮されることがよくあります。 ローカライズは、"L" と "n" の間の10文字の L10n と同様に短縮されます。

## <a name="overview"></a>概要

このドキュメントでは、国際化とローカリゼーションに関連する概念と、モバイルアプリケーション開発全般に適用する方法について説明します。
アプリケーションを設計してビルドする場合、以前にハードコーディングされているものの、ローカライズのためにパラメーター化する必要があるものは次のとおりです。

- 画面レイアウトとテキスト
- アイコン、グラフィックス、および色
- ビデオファイルとサウンドファイル
- 動的なテキストとテキストの書式設定 (数値、通貨、日付など)
- 右から左 (RTL) 言語のレイアウトの変更
- データの並べ替え。

アプリが対象とするモバイルプラットフォームに関係なく、これらのヒントは、高品質のローカライズされたアプリを構築するのに役立ちます。

## <a name="design-considerations"></a>デザインに関する考慮事項

コンテンツをローカライズできるようにアプリケーションを設計することを国際化と呼びます。 国際化を適切に実行すると、実行時にさまざまな言語文字列を読み込むことができます。適切に設計されたアプリでは、言語とロケール (画像、サウンド、ビデオを含む) に基づいてすべてのリソースを変更でき、さまざまなサイズの文字列に対応するように書式設定とレイアウトを調整できます。

このセクションでは、国際化アプリケーションを構築する際に考慮する必要がある設計上の考慮事項について説明します。

### <a name="layouts-and-string-length"></a>レイアウトと文字列の長さ

中国語と日本語の文字列は非常に短くなることがあります。入力フィールドラベルに対しては、1文字または2文字で十分に意味がある場合があります。

ドイツ語の文字列 (など) は非常に長くなる可能性があります。英語の比較的短い単語が他の言語で非常に長くなることがあります。つまり、クリップされたり、意図せずにレイアウトが reflowing されたりすることがあります。

IOS ホーム画面上のいくつかの項目の文字列の長さを英語、ドイツ語、日本語で比較します。

[![ドイツ語と日本語の文字列長](localization-images/language-compare-sml.png)](localization-images/language-compare.png#lightbox)

英語 (8 文字) の **設定** ではドイツ語の翻訳に13文字が必要ですが、日本語では2文字のみであることに注意してください。

表示ラベルと入力フィールドが左右に並んでいるレイアウトでは、ラベルの長さが大幅に異なる場合に、操作が困難になります。 多くの場合、フィールドの上にラベルが表示されているレイアウトは、ラベルと入力の両方に対して画面全体の幅が使用できるため、ローカライズが容易になります。

一般的な規則として、固定レイアウト (特にサイドバイサイドの要素) を作成する場合は、ラベルとテキストに対して、英語の文字列では少なくとも50% の幅が許容されます。 これにより、すべての問題が解決されるわけではありませんが、多くの場合に動作するバッファーが提供されます。

### <a name="input-validation"></a>入力の検証

検証規則を記述するときは、前提に注意してください。 1つの文字が意味を持たないため、少なくとも3つの文字を英語で入力する必要があると思われるかもしれません。 中国語と日本語では、1つの文字は有効な入力であり、"少なくとも3文字が必要" という検証メッセージは、これらの言語には意味がありません。

電子メールアドレスや web サイトの URL の検証など、その他の一見単純なタスクは、ASCII のサブセットに限定されないため、より複雑になります。

国際化を考慮して検証規則を記述します。最も制限の緩い規則を選択するか、各言語で異なる動作をするようにロジックを記述します。

### <a name="images-and-color"></a>画像と色

すべてのイメージをユーザーの言語選択に基づいて変更する必要はありません。 多くのアイコンや写真は、どの言語を話すかに関係なく、すべてのユーザーに適しています。
ただし、次のようなリソースをローカライズすることは理にかなっています。

- ユーザーまたは特定の場所を表す画像–ローカルのユーザーまたは場所が表示されている場合、アプリはユーザーにとってより関連性が高いと感じることがあります。
- アイコン– iconography によっては、カルチャに固有のものがあります。また、画像をローカライズしてローカルの理解を反映することで、アプリを使いやすくすることができます。
- 色–カルチャによっては、色が異なることを理解している場合があります。つまり、1つの地域では警告が表示されますが、別の地域では アプリを設計する際にはネイティブのスピーカーで確認し、色をローカライズするためのメカニズムを構築する必要があるかどうかを判断します。

### <a name="videos-and-sound"></a>ビデオとサウンド

ビデオとサウンドは、アプリケーションをローカライズするときに特別な問題が発生しています。これは、翻訳された文字列を取得するのは比較的簡単ですが、複数の voiceover トラックやビデオクリップを記録すると、コストが高く、困難になる可能性があるためです

ビデオファイルとサウンドファイルの複数のコピーによって、アプリケーションのサイズが大幅に増加する場合もあります (特に、多数の言語にローカライズされている場合や、メディアファイルの数が多い場合)。 ユーザーがアプリをインストールした後に必要な言語アセットのみをダウンロードすることを検討できますが、これにより、低速ネットワークでのユーザーエクスペリエンスが低下する可能性もあります。

多くの場合、ローカライズの問題を解決する方法は複数あります。最も重要なのは、それらを事前に検討し、アプリケーションがそれらを処理するように設計されていることを確認することです。

### <a name="dates-times-numbers-and-currency"></a>日付、時刻、数値、通貨

.NET の書式設定関数を使用している場合は、10進数の区切り記号が正しく解析されるようにカルチャを指定してください (変換例外がスローされないようにしてください)。 たとえば、1.99 と 1, 99 は、ロケールによって有効な10進数表現です。

データが既知のソース (独自のコードまたは制御する web サービスから取得されたもの) から送信される場合、標準の英語の書式設定に対応する InvariantCulture などの書式設定に一致するカルチャ識別子をハードコーディングすることができます。

```csharp
double.Parse("1,999.99", CultureInfo.InvariantCulture);
```

データがアプリユーザーによって入力されている場合は、ロケールを反映する CultureInfo インスタンスを使用して解析します。

```csharp
double.Parse("1 999,99", CultureInfo.CreateSpecificCulture("fr-FR"));
```

詳細については、「 [数値文字列の解析](/dotnet/standard/base-types/parsing-numeric) 」および「 [日付と時刻文字列の解析](/dotnet/standard/base-types/parsing-datetime) 」を参照してください。

<a name="rtl"></a>

### <a name="right-to-left-rtl-languages"></a>右から左 (RTL) の言語

アラビア語、ヘブライ語、ウルドゥ語 (など) などの一部の言語は、右から左に読み取られます。
これらの言語をサポートするアプリケーションでは、次のように、右から左に記述するリーダーに適合する画面デザインを使用する必要があります。

- テキストは右に配置する必要があります。
- ラベルは、入力フィールドの右側に表示されます。
- 既定のボタンの配置は通常は逆になります。
- コンテキストの方向を使用する階層ナビゲーションスワイプとアニメーション (およびその他のナビゲーションメタファとアニメーション) も、逆にする必要があります。

IOS と Android はどちらも、右から左へのレイアウトとフォントレンダリングをサポートしています。組み込みの機能を使用して、上記の調整を行うことができます。 現在、Xamarin は RTL レンダリングを自動的にサポートしていません。

### <a name="sorting"></a>並べ替え

異なる言語では、同じ文字セットを使用している場合でも、アルファベットの並べ替え順序が異なります。

[文字列比較の詳細](/dotnet/standard/base-types/best-practices-strings#the_details_of_string_comparison)については、「 [.NET Framework で文字列を使用する場合のベストプラクティス](/dotnet/standard/base-types/best-practices-strings)」を参照してください。この例では、language (CultureInfo) が並べ替え順序に影響します。

モバイルプラットフォームに組み込まれているデータベース機能では、言語固有の並べ替え順序がサポートされていない可能性があるため、ビジネスロジックに追加のコードを実装する必要がある場合があります。

### <a name="text-search"></a>テキスト検索

複数の言語を念頭に置いて、検索アルゴリズムを記述し、テストしてください。 考慮すべき点は次のとおりです。

- オートコンプリート–オートコンプリート機能を構築した場合は、ユーザーの言語に関連する提案をソースに送信します。
- データへのクエリの照合–特定の言語で入力された検索クエリを、その言語で記述されたコンテンツだけに対して実行するか、アプリのすべてのコンテンツに対して実行するかを指定します。
- ステミング–検索対象が類似語句を検索するように構築されている場合、単語のルートやその他の検索の最適化は、サポートするすべての言語用に構築された最適化です。
- 並べ替え–結果が正しく並べ替えられていることを確認します (上記を参照)。

### <a name="data-from-external-sources"></a>外部ソースのデータ

多くのアプリケーションは、Twitter や RSS フィードから、天気、ニュース、株価などの外部ソースからデータをダウンロードします。 これをユーザーに表示する場合は、関連性のない情報または読み取り不可能な情報が表示される可能性を考慮する必要があります。

アプリでユーザーに関連するデータが表示されるようにするには、次のような方法があります。

- さまざまなソース–ユーザーの言語またはロケールに応じて、アプリケーションが別のソースからデータをダウンロードする場合があります。 ロケールニュース、天気、株価は、北アメリカのフィードからダウンロードされたものよりも意味があります。
- ローカライズされた表示– Twitter またはフォトフィードを表示する場合は、コンテンツ自体が元の言語のままであっても、自分の言語でメタデータ (取得した時間など) を表示する必要があります。
- 翻訳–アプリに翻訳オプションを構築して、受信データの機械翻訳を行うことができます。 これは、自動またはユーザーの裁量によって、コンピューターの翻訳が完全ではないため、発生したかどうかをユーザーに通知するだけで済みます。

これは、オーディオトラックまたはビデオへの外部リンクに影響を与える可能性があります。アプリケーションを設計するときは、翻訳されたコンテンツを事前に計画しておくか、またはコンテンツが言語で表示されない場合にユーザーインターフェイスによってユーザーに適切に通知されるようにしてください。

### <a name="dont-over-translate"></a>過剰翻訳しない

アプリ内の一部の文字列は、翻訳を必要としない場合や、翻訳者が特に注意する必要がある場合があります。 例には以下が含まれます。

- Url: URL を一覧表示している場合は、言語によって調整する必要があるかもしれません。 たとえば、facebook.com では、メインサイトで言語を自動検出する変換は必要ありません。 他のサイトにはロケール固有のコンテンツがあり、yahoo.com、yahoo.fr、yahoo.it などの別の URL を提供することができます。
- 電話番号 (特に、特定の言語を話す呼び出し元に対して国コードまたは数字が異なる場合)。
- 連絡先の詳細–住所などの情報は、言語やロケールによって異なる場合があります。
- 商標 & 製品名–一部の文字列は常に同じ言語で記述されているため、翻訳は不要です。

最後に、特定の文字列に特別な処理が必要な場合は、翻訳者向けの詳細な手順を必ず含めてください。

### <a name="formatted-text"></a>書式付きテキスト

一般に、文字列は一般に書式設定されていないため、モバイルアプリでは問題になりません。 ただし、リッチテキスト (太字や斜体の書式など) がアプリで必要な場合は、翻訳者が書式設定の入力方法を認識していることを確認してください。文字列ファイルには正しく保存されており、ユーザーに表示される前に適切に書式設定されています (ユーザーに書式設定コード自体が表示されないよう

## <a name="translation-tips"></a>翻訳のヒント

アプリケーションによって使用される文字列の変換は、ローカリゼーションプロセスの一部と見なされます。 通常、このタスクは翻訳サービスにアウトソーシングされ、お客様のアプリケーションやビジネスを知らない多言語のスタッフが実行します。

次のヒントは、翻訳がより簡単な文字列を生成して、ローカライズされたアプリの品質を向上させるのに役立ちます。

### <a name="localize-complete-strings-not-words"></a>単語ではなく、完全な文字列をローカライズする

場合によっては、アプリケーション全体で再利用できるように、1つの単語または文の ' スニペット ' を指定するという方法があります。 たとえば、"5 個のメッセージがあります" というテキストがあるとします。 変換に次の文字列を指定する場合があります。

**無効**:

```csharp
"You have"
"no"
"message"
"messages"
```

次に、文字列の連結を使用して、コード内で正しい語句を作成しようとします。

**無効**:

```csharp
"You have" + " " + numMsgs + " " + "messages"
"You have" + " no " + "messages"
```

すべての言語で機能する**とは限り**ません。また、各短いセグメントのコンテキストを翻訳者が理解するのが困難になります。 また、翻訳された文字列を再利用することにもつながります。これにより、後で別のコンテキストで使用された場合に問題が発生する可能性があります (その後、更新されます)。

### <a name="allow-for-parameter-re-ordering"></a>パラメーターの順序を変更できるようにする

一部のプログラミング言語では、文字列のパラメーターの順序を指定するための追加の構文が必要ですが、.NET では既に番号付きプレースホルダーの概念がサポートされています。

**いいですね**。

```csharp
"a {0} b {1} cde {3}"
```

次のように変換できます (プレースホルダーの位置と順序が変更されます)

```csharp
"{2} {3} f g h {0}"
```

トークンは変換対象として並べ替えられます。 翻訳者に文字列を送信するときに、各プレースホルダーに含まれる内容の説明を必ず含めてください。

### <a name="use-multiple-strings-for-cardinality"></a>カーディナリティに複数の文字列を使用する

`"You have {0} message/s."`ユーザーエクスペリエンスを向上させるために、各状態に特定の文字列を使用するような文字列は使用しないでください。

**いいですね**。

```csharp
"You have no messages."
"You have 1 message."
"You have 2 messages."
"You have {0} messages."
```

表示されている数値を評価して適切な文字列を選択するには、アプリでコードを記述する必要があります。 一部のプラットフォーム (iOS や Android など) には、現在の言語/ロケールの設定に基づいて最適な複数形の文字列を自動的に選択する機能が組み込まれています。

### <a name="allowing-for-gender"></a>性別を許可する

ラテン語ベースの言語では、サブジェクトの性別によって異なる単語が使用されることがあります。 アプリが性別を認識している場合は、翻訳された文字列にこのことを反映させる必要があります。

また、英語でもより明確なケースもあります。文字列は、アプリの特定の個人またはユーザーを指します。 たとえば、一部のサイトでは、次のようなメッセージが表示さ `"Bob commented on his post"` れるため、男性、女性、および非バイナリまたは不明な性別の両方に対して文字列が必要です。

**いいですね**。

```csharp
"{0} commented on his post"
"{0} commented on her post"
"{0} commented on their post"
```

### <a name="dont-reuse-strings"></a>文字列を再利用しない

より正確には、文字列自体が異なる目的や意味を持つ場合に似ているため、文字列を再利用しないでください。

たとえば、アプリにオン/オフスイッチがあるとします。スイッチコントロールでは、' オン ' と ' オフ ' のテキストをローカライズする必要があります。 また、アプリの他の場所でテキストラベルに設定した値も表示されます。 スイッチの表示には別の文字列を使用する必要があります (既定の言語で同じ文字列であっても)。たとえば、次のようにします。

- "On" –スイッチ自体に表示されます。
- "Off" –スイッチ自体に表示されます。
- "On" –ラベルに表示されます。
- "Off" –ラベルに表示されます。

これにより、翻訳者にとって最大限の柔軟性が得られます。

- 設計上の理由により、スイッチ自体は小文字の "オン" と "オフ" を使用しますが、表示ラベルでは大文字の "オン" と "オフ" を使用します。
- 一部の言語では、ユーザーインターフェイスコントロールに対してスイッチ値を省略する必要がある場合がありますが、ラベルには完全な (翻訳された) 単語を含めることができます。
- また、一部の言語では、"I" と "O" を使用してカルチャに慣れている場合もありますが、ラベルを "オン" または "オフ" にすることが必要になる場合があります。

### <a name="translation-services"></a>翻訳サービス

#### <a name="machine-translation"></a>機械翻訳

翻訳機能をアプリに組み込むには、 [Azure Translator Text API](https://azure.microsoft.com/services/cognitive-services/translator-text-api/)を検討してください。

テスト目的では、多くのオンライン翻訳ツールのいずれかを使用して、開発時にアプリにローカライズされたテキストを含めることができます。

- [Bing 翻訳ツール](https://www.bing.com/translator/)
- [Google の翻訳](https://translate.google.com/)

他にも多くの使用可能なものがあります。 機械翻訳の品質は、一般に、プロの翻訳者やネイティブの講演者によって確認およびテストされることなく、アプリケーションをリリースするのに十分なものとは見なされません。

#### <a name="professional-translation"></a>プロフェッショナルな翻訳

また、お客様の文字列を取得して独自の翻訳者に配布するプロ翻訳サービスも用意されています。これにより、翻訳が完成しました。

よく知られているサービスの1つは [Lionbridge](https://www.lionbridge.com/)です。 ほとんどのプロフェッショナルサービスは、文字列、XML、RESX、および .POT などの一般的なファイルの種類をサポートしています。

## <a name="summary"></a>まとめ

この記事では、アプリを国際化し、リソースをローカライズする前に理解しておく必要があるいくつかの概念を紹介し、各プラットフォームの言語設定を変更する方法についても説明しました。

これらの概念は、Xamarin で実現可能なプラットフォーム固有およびクロスプラットフォームのさまざまな国際化手法に適用できます。

興味のあるプラットフォームの技術的な詳細情報を引き続きお読みください。

- RESX ファイルを使用した[Xamarin 形式](~/xamarin-forms/app-fundamentals/localization/index.md)のクロスプラットフォームローカライズ。
- [Xamarin. iOS](~/ios/app-fundamentals/localization/index.md) ネイティブプラットフォームのローカリゼーション。
- [Xamarin. Android](~/android/app-fundamentals/localization.md) ネイティブプラットフォームのローカリゼーション。

## <a name="related-links"></a>関連リンク

- [Apple のローカリゼーションの概要](https://developer.apple.com/internationalization/)
- [Android のローカライズのチェックリスト](https://developer.android.com/distribute/tools/localization-checklist.html)
- [国際対応アプリケーションを開発するためのベストプラクティス (MSDN)](/previous-versions/visualstudio/visual-studio-2008/w7x1y988(v=vs.90))